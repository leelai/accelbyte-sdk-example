{"version":3,"sources":["../../../src/input-validation/validatePersonName.ts"],"names":[],"mappings":";;;;;;;AAaa,MAAA,2BAAA,GAA8B,CAAE,CAAA,IAAA,CAAK,CAAC,GAAG,wBAAwB,OAAS,EAAA,yBAAA,CAA0B,IAAK,CAAA,aAAa,CAAC,EAAA;AAOvH,MAAA,kBAAA,GAAqB,CAAC,KAAe,EAAA,EAAE,aAAa,IAAK,EAAA,GAA+B,EAAO,KAAA;AAC1G,EAAA,MAAM,KAAQ,GAAA,2CAAA,CAAA;AACd,EAAI,IAAA,OAAA,CAAQ,KAAK,CAAG,EAAA;AAClB,IAAA,IAAI,CAAC,UAAY,EAAA;AACf,MAAO,OAAA,IAAA,CAAA;AAAA,KACT;AACA,IAAA,OAAO,4BAA4B,IAAK,CAAA,KAAA,CAAA;AAAA,GAC1C;AACA,EAAA,IAAI,CAAC,OAAA,CAAQ,KAAO,EAAA,KAAK,CAAG,EAAA;AAC1B,IAAA,OAAO,4BAA4B,IAAK,CAAA,aAAA,CAAA;AAAA,GAC1C;AACA,EAAA,MAAM,qBAA8C,GAAA,EAAE,GAAK,EAAA,CAAA,EAAG,KAAK,uBAAwB,EAAA,CAAA;AAC3F,EAAO,OAAA,cAAA,CAAe,OAAO,qBAAqB,CAAA,CAAA;AACpD","file":"validatePersonName.js","sourcesContent":["/*\n * Copyright (c) 2019-2023 AccelByte Inc. All Rights Reserved\n * This is licensed software from AccelByte Inc, for limitations\n * and restrictions contact your company contract manager.\n */\n\nimport isEmpty from 'validator/lib/isEmpty.js'\nimport matches from 'validator/lib/matches.js'\nimport { z } from 'zod'\nimport { CommonValidationErrorType } from './constant/errorType'\nimport { MAX_DISPLAY_NAME_LENGTH } from './constant/numbers'\nimport { validateLength, ValidateLengthErrorType, ValidateLengthOption } from './validateLength'\n\nexport const ValidatePersonNameErrorType = z.enum([...ValidateLengthErrorType.options, CommonValidationErrorType.enum.invalidFormat])\nexport type ValidatePersonNameErrorType = z.infer<typeof ValidatePersonNameErrorType>\n\nexport interface ValidatePersonNameOptions {\n  isRequired?: boolean\n}\n\nexport const validatePersonName = (value: string, { isRequired = true }: ValidatePersonNameOptions = {}) => {\n  const REGEX = \"^[a-zA-Z]+(([',. -][a-zA-Z])?[a-zA-Z]*)*$\"\n  if (isEmpty(value)) {\n    if (!isRequired) {\n      return null\n    }\n    return ValidatePersonNameErrorType.enum.empty\n  }\n  if (!matches(value, REGEX)) {\n    return ValidatePersonNameErrorType.enum.invalidFormat\n  }\n  const validateLengthOptions: ValidateLengthOption = { min: 2, max: MAX_DISPLAY_NAME_LENGTH }\n  return validateLength(value, validateLengthOptions)\n}\n"]}